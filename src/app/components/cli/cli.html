<div class="content">

  <h1>Simple Java Mail Command Line Interface</h1>

  <section class="introduction">
    <p class="wide">
      Simple Java Mail exposes the complete builder API as CLI commands, which is to say everything you can do with
      Simple Java Mail in Java, you can also do that in a terminal.
    </p>
    <p class="wide">
      Also property files are read just the same, as long as they can be found on the classpath.
    </p>

    <h3>From builder API to CLI commands</h3>

    <p class="wide">
      To support CLI, the commands and options are generated using <a href="https://picocli.info/">Picocli's Java API</a>
      and <a href="https://github.com/dnault/therapi-runtime-javadoc">Therapi's Javadoc bundler</a>. Together and with a
      lot of custom glue Simple Java Mail's builder API is traversed and converted into CLI commands.
    </p>
    <p class="wide">
      The great benefit from this is that new builder API is supported by CLI automagically and the documentation is
      still centralized in the builder API.
    </p>
  </section>

  <section>
    <h2>How to use</h2>
    <p class="wide">
      To use Simple Java Mail CLI,
      <a [routerLink]="['/download']" simplePageScroll href="#navigation">Download</a>
      and expand the standalone-cli package and execute the <em>sjm</em> script.
      Included in the package are all dependencies and two helper scripts for Windows and Unix (generated by standard
      Maven plugins).
    </p>
    <p class="wide">
      The flags are a bit verbose, but then it supports the complete builder API!
    </p>
    <pre><code class="language-text class">
      sjm
      sjm --help
      sjm send --email:to--help
      sjm send
          --email:withSubject "About those tongue twisters"
          --email:to name="Sweet Cheeks" oneOrMoreAddresses="sweet.cheeks@candystore.com"
          --email:cc name="Candy Research Group" oneOrMoreAddresses="&lt;james@candy-insights.com&gt;;&lt;jean@candy-insights.com&gt;"
          --email:bcc oneOrMoreAddresses="box1 &lt;info-box@candystore.com&gt;,box2 &lt;reminders@candystore.com&gt;"
          --email:withPlainText text="I discovered a new flavor! (..)"
          --mailer:withSMTPServer host=my-smtp-server.com port=1234 username=myuser password=mypass
    </code></pre>
  </section>

  <section>
    <h2>Usage Help</h2>
    <p>You can get usage information displayed on any level:</p>
    <table>
      <colgroup>
        <col span="1" style="width: 15%;">
        <col span="1" style="width: 40%;">
        <col span="1">
      </colgroup>

      <!-- Put <thead>, <tbody>, and <tr>'s here! -->
      <tbody>
      <tr>
        <td>Global level</td>
        <td><code class="language-text inline">--help</code></td>
        <td>informs about available commands</td>
      </tr>
      <tr>
        <td>Command level</td>
        <td><code class="language-text inline">send --help</code></td>
        <td>informs about options available for the "send" command</td>
      </tr>
      <tr>
        <td>Option level</td>
        <td><code class="language-text inline">send --email:withSubject--help</code></td>
        <td>displays usage help for the "withSubject" option</td>
      </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Invoking CLI manually</h2>
    <p class="wide">
      If you wish to directly invoke the CLI from the jar or class files, CLI support for Java libraries works
      just like any other Java static void main invocation:
    </p>
    <pre><code class="language-text">java -cp all;the;jars.jar org.simplejavamail.cli.SimpleJavaMail --help</code></pre>
    <p class="wide">
      Simple Java Mail's own main jar should be on the classpath of course, as well as all non-optional dependencies,
      the optional cli-module dependency and <em>its</em> dependencies.
    </p>

    <h3>Or by Maven</h3>
    <p class="wide">
      Alternatively, you can also let Maven deal with the dependencies, by invoking the maven-exec plugin.
    </p>
    <pre><code class="language-text">mvn exec:java -Dexec.mainClass="org.simplejavamail.cli.SimpleJavaMail" -Dexec.args="--help"</code></pre>
    Or by configuring it in your POM:
    <pre><code class="small language-xml">
&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;1.6.0&lt;/version&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
      &lt;configuration&gt;
        &lt;mainClass&gt;org.simplejavamail.cli.SimpleJavaMail&lt;/mainClass&gt;
        &lt;arguments&gt;
          &lt;argument&gt;--help&lt;/argument&gt;
        &lt;/arguments&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
    </code></pre>
    <pre><code class="language-text">mvn exec:java</code></pre>
  </section>
</div>
