{"version":3,"sources":["pages/scripts/lazy-img-loader.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iBAqBK;AArBL,SAAe,YAAY;;;;YACpB,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;YACxB,sBAAO,IAAI,OAAO,CAAC,UAAA,OAAO;oBACzB,GAAG,CAAC,MAAM,GAAG,cAAa,OAAO,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA,CAAC,CAAC;oBACzE,GAAG,CAAC,OAAO,GAAG,cAAa,OAAO,CAAC,KAAK,CAAC,CAAC,CAAA,CAAC,CAAC;oBAC5C,GAAG,CAAC,GAAG,GAAG,yBAAyB,GAAG,0DAA0D,CAAC;gBAClG,CAAC,CAAC,EAAC;;;CACH;AAED,CAAC;;;QACM,wBAAwB,GAAG,YAAY,EAAE,CAAC;QAChD,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE;YAC/B,wBAAwB,CAAC,IAAI,CAAC,UAAA,iBAAiB;gBAC9C,0EAA0E;gBAC1E,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC;qBACxC,OAAO,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,YAAY,CAAC,KAAK,EACrC,GAAG,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,iBAAiB;oBACrD,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,eAAe,CAAC;oBACnC,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,EAHjB,CAGiB,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;QACJ,CAAC,EAAE,KAAK,CAAC,CAAC;;;KACV,CAAC,EAAE,CAAC","file":"lazy-img-loader.js","sourcesContent":["async function supportsWebp():Promise<boolean> {\n\tconst img = new Image();\n\treturn new Promise(resolve => {\n\t\timg.onload = function () {resolve((img.width > 0) && (img.height > 0));};\n\t\timg.onerror = function () {resolve(false);};\n\t\timg.src = \"data:image/webp;base64,\" + \"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA\";\n\t});\n}\n\n(async () => {\n\tconst supportsWebpKnownPromise = supportsWebp();\n\twindow.addEventListener('load', () => {\n\t\tsupportsWebpKnownPromise.then(supportsWebpKnown => {\n\t\t\t// console.debug('document loaded, webp supported: ' + supportsWebpKnown);\n\t\t\tdocument.querySelectorAll('img[data-src]')\n\t\t\t\t.forEach(img => img.setAttribute('src',\n\t\t\t\t\timg.hasAttribute('data-src-webp') && supportsWebpKnown\n\t\t\t\t\t\t? img.getAttribute('data-src-webp')\n\t\t\t\t\t\t: img.getAttribute('data-src')));\n\t\t});\n\t}, false);\n})();"]}