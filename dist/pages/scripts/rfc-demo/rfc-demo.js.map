{"version":3,"sources":["pages/scripts/rfc-demo/rfc-demo.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,0BAA0B,EAAC,MAAM,iCAAiC,CAAC;AAC3E,OAAO,EAAC,oBAAoB,EAAC,MAAM,2BAA2B,CAAC;AAC/D,OAAO,EAAC,sBAAsB,EAAC,MAAM,6BAA6B,CAAC;AACnE,OAAO,EAAC,sCAAsC,EAAC,MAAM,6CAA6C,CAAC;AACnG,OAAO,EAAC,iCAAiC,EAAC,MAAM,wCAAwC,CAAC;AACzF,OAAO,EAAC,+BAA+B,EAAC,MAAM,sCAAsC,CAAC;AACrF,OAAO,EAAC,2BAA2B,EAAC,MAAM,kCAAkC,CAAC;AAC7E,OAAO,EAAC,qBAAqB,EAAC,MAAM,4BAA4B,CAAC;AACjE,OAAO,EAAC,KAAK,EAAC,MAAM,YAAY,CAAC;AAEjC;IAAA;IAyCA,CAAC;IAtBG,2CAAyB,GAAzB;QACI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACnC;QAED,OAAO,OAAO,CAAC,wBAAwB,CAAC,IAAI,KAAK,CAC7C,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;IAC/B,CAAC;IAEc,gCAAwB,GAAvC,UAAwC,KAAY;QAChD,KAAgB,UAAkB,EAAlB,KAAA,OAAO,CAAC,UAAU,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAA/B,IAAM,CAAC,SAAA;YACR,IAAI,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;gBAC9B,OAAO,CAAC,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;aAC7C;SACJ;QACD,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;IAC5D,CAAC;IAhCuB,kBAAU,GAA2B;QACzD,IAAI,qBAAqB,EAAE;QAC3B,IAAI,0BAA0B,EAAE;QAChC,IAAI,sBAAsB,EAAE;QAC5B,IAAI,oBAAoB,EAAE;QAC1B,IAAI,2BAA2B,EAAE;QACjC,IAAI,+BAA+B,EAAE;QACrC,IAAI,iCAAiC,EAAE;QACvC,IAAI,sCAAsC,EAAE;KAC/C,CAAC;IAwBN,cAAC;CAzCD,AAyCC,IAAA;SAzCY,OAAO","file":"rfc-demo.js","sourcesContent":["import {MessageStrategy} from \"./MessageStrategy.js\";\r\nimport {MessageStrategyAlternative} from \"./MessageStrategyAlternative.js\";\r\nimport {MessageStrategyMixed} from \"./MessageStrategyMixed.js\";\r\nimport {MessageStrategyRelated} from \"./MessageStrategyRelated.js\";\r\nimport {MessageStrategyMixedRelatedAlternative} from \"./MessageStrategyMixedRelatedAlternative.js\";\r\nimport {MessageStrategyRelatedAlternative} from \"./MessageStrategyRelatedAlternative.js\";\r\nimport {MessageStrategyMixedAlternative} from \"./MessageStrategyMixedAlternative.js\";\r\nimport {MessageStrategyMixedRelated} from \"./MessageStrategyMixedRelated.js\";\r\nimport {MessageStrategySimple} from \"./MessageStrategySimple.js\";\r\nimport {Email} from \"./Email.js\";\r\n\r\nexport class RfcDemo {\r\n    usePlainText: boolean;\r\n    useHTMLText: boolean;\r\n    useEmbeddedContent: boolean;\r\n    useCalendarEvent: boolean;\r\n    useAttachments: boolean;\r\n    useEmailForward: boolean;\r\n\r\n    private static readonly STRATEGIES: Array<MessageStrategy> = [\r\n        new MessageStrategySimple(),\r\n        new MessageStrategyAlternative(),\r\n        new MessageStrategyRelated(),\r\n        new MessageStrategyMixed(),\r\n        new MessageStrategyMixedRelated(),\r\n        new MessageStrategyMixedAlternative(),\r\n        new MessageStrategyRelatedAlternative(),\r\n        new MessageStrategyMixedRelatedAlternative()\r\n    ];\r\n\r\n    determineMessageStructure(): string {\r\n        if (!this.useHTMLText) {\r\n            this.useEmbeddedContent = false;\r\n        }\r\n\r\n        return RfcDemo.determineFormalStructure(new Email(\r\n            this.usePlainText,\r\n            this.useHTMLText,\r\n            this.useEmbeddedContent,\r\n            this.useCalendarEvent,\r\n            this.useAttachments,\r\n            this.useEmailForward));\r\n    }\r\n\r\n    private static determineFormalStructure(email: Email): string {\r\n        for (const s of RfcDemo.STRATEGIES) {\r\n            if (s.compatibleWithEmail(email)) {\r\n                return s.determineMessageStructure(email);\r\n            }\r\n        }\r\n        throw new Error(\"email config not recognized properly\");\r\n    }\r\n}"]}